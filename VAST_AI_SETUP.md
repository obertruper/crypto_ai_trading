# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Vast.ai –¥–ª—è GPU –æ–±—É—á–µ–Ω–∏—è

## üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

- **GPU**: 2x RTX 5090 (216.2 TFLOPS)
- **VRAM**: 32 GB
- **RAM**: 129 GB
- **CPU**: Xeon¬Æ Platinum 8352V (36 cores)
- **CUDA**: 12.8

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSH –∫–ª—é—á–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª –¥–ª—è –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞:**
```bash
nano ~/.ssh/vast_ai_key
```

2. **–í—Å—Ç–∞–≤—å—Ç–µ –≤–∞—à –ø—Ä–∏–≤–∞—Ç–Ω—ã–π –∫–ª—é—á** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `-----BEGIN RSA PRIVATE KEY-----`)

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞:**
```bash
chmod 600 ~/.ssh/vast_ai_key
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```bash
./scripts/sync_to_vast.sh
```

### 2. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
./scripts/connect_vast.sh
```

### 3. –ó–∞–ø—É—Å–∫ –æ–±—É—á–µ–Ω–∏—è
```bash
./scripts/run_on_vast.sh
```

## üì° –°–ø–æ—Å–æ–±—ã –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è

### –ü—Ä—è–º–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```bash
ssh -p 40134 root@114.32.64.6 -i ~/.ssh/vast_ai_key
```

### –ß–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏:
```bash
ssh -p 33915 root@ssh3.vast.ai -i ~/.ssh/vast_ai_key
```

### –° –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–æ–≤:
```bash
ssh -p 40134 root@114.32.64.6 -i ~/.ssh/vast_ai_key \
  -L 8080:localhost:8080 \
  -L 6006:localhost:6006 \
  -L 8888:localhost:8888
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü–æ—Å–ª–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è —Å –ø—Ä–æ–±—Ä–æ—Å–æ–º –ø–æ—Ä—Ç–æ–≤:

- **TensorBoard**: http://localhost:6006
- **Web UI**: http://localhost:8080
- **Jupyter**: http://localhost:8888

### –ö–æ–º–∞–Ω–¥—ã –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ GPU
nvidia-smi -l 1

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /root/crypto_ai_trading/logs/training_gpu.log

# –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ tmux —Å–µ—Å—Å–∏–∏
tmux attach -t training

# –û—Ç–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç tmux: Ctrl+B, –∑–∞—Ç–µ–º D
```

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è GPU

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–±–µ GPU (CUDA_VISIBLE_DEVICES=0,1)
- –í–∫–ª—é—á–∞–µ—Ç mixed precision training
- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç batch size –¥–ª—è GPU
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç pin_memory –¥–ª—è DataLoader

## üìà –û–∂–∏–¥–∞–µ–º–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **CPU (–ª–æ–∫–∞–ª—å–Ω–æ)**: ~3 —Å–µ–∫/–±–∞—Ç—á
- **2x RTX 5090**: ~0.1-0.2 —Å–µ–∫/–±–∞—Ç—á
- **–£—Å–∫–æ—Ä–µ–Ω–∏–µ**: 15-30x

### –í—Ä–µ–º—è –æ–±—É—á–µ–Ω–∏—è:
- **5 —ç–ø–æ—Ö**: ~15-20 –º–∏–Ω—É—Ç
- **100 —ç–ø–æ—Ö**: ~5-6 —á–∞—Å–æ–≤

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### CUDA Out of Memory:
```yaml
# –£–º–µ–Ω—å—à–∏—Ç–µ batch_size –≤ config.yaml
model:
  batch_size: 16  # –≤–º–µ—Å—Ç–æ 32
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ Vast.ai
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ SSH –∫–ª—é—á –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø—Ä–æ–∫—Å–∏

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã:
```bash
ssh -p 40134 root@114.32.64.6 -i ~/.ssh/vast_ai_key
cd /root/crypto_ai_trading
pip install -r requirements.txt
```

## üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞—Å—Ö–æ–¥–∞–º–∏

- **–°—Ç–æ–∏–º–æ—Å—Ç—å**: ~$0.50-1.00 –≤ —á–∞—Å (–ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞ Vast.ai)
- **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ó–∞–ø—É—Å–∫–∞–π—Ç–µ –ø–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –Ω–æ—á—å—é
- **–ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –ú–æ–¥–µ–ª—å —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 10 —ç–ø–æ—Ö

## üìù –ß–µ–∫-–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] SSH –∫–ª—é—á —Å–æ–∑–¥–∞–Ω –∏ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∞ 600
- [ ] –ü—Ä–æ–µ–∫—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –î–∞–Ω–Ω—ã–µ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω–æ (cache/features_cache.pkl)
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–∞
- [ ] Tmux —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ