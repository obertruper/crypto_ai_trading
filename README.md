# üöÄ Crypto AI Trading System

[![Python](https://img.shields.io/badge/python-3.9+-blue.svg)](https://www.python.org/downloads/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![PostgreSQL](https://img.shields.io/badge/PostgreSQL-13+-blue.svg)](https://www.postgresql.org/)

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–ª–≥–æ—Ä–∏—Ç–º–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã–º–∏ —Ñ—å—é—á–µ—Ä—Å–∞–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–µ–¥–æ–≤–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã **PatchTST** (Patch Time Series Transformer). –ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –¥–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Ç–æ—Ä–≥–æ–≤–ª–∏ —Å –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–º —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–æ–º –∏ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

## ‚ú® –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üß† –ú–∞—à–∏–Ω–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- **PatchTST –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ —Å –ø–∞—Ç—á–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–ú–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ** - –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã –∏ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π TP/SL
- **–ê–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π** - Voting, Stacking, Dynamic ensembles –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è —Ç–æ—á–Ω–æ—Å—Ç–∏
- **100+ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤** - –ø–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ä—ã–Ω–∫–∞
- **Walk-forward –≤–∞–ª–∏–¥–∞—Ü–∏—è** - —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ look-ahead bias –≤ feature engineering
- **9 –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –ø–æ—Ç–µ—Ä—å** - DirectionalLoss, ProfitLoss, SharpeRatioLoss, MaxDrawdownLoss –∏ –¥—Ä.
- **–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã** - RAdam, Lookahead, Ranger —Å warmup –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞–º–∏

### üíº –¢–æ—Ä–≥–æ–≤–ª—è –∏ —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- **Kelly Criterion** - –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –ø–æ–∑–∏—Ü–∏–π
- **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è –∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ SL/TP
- **–£—á–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—è** - —Å–Ω–∏–∂–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ —á–µ—Ä–µ–∑ –¥–∏–≤–µ—Ä—Å–∏—Ñ–∏–∫–∞—Ü–∏—é
- **–ß–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è** - 40% –Ω–∞ +1.5%, 40% –Ω–∞ +2.5%, 20% –Ω–∞ +4.0%
- **–ó–∞—â–∏—Ç–∞ –ø—Ä–∏–±—ã–ª–∏** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π breakeven –∏ trailing stop
- **–†–µ–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –±—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥** - –º–æ–¥–µ–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–∏—Å—Å–∏–π Bybit, market impact –∏ funding rate

### üìä –î–∞–Ω–Ω—ã–µ –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **PostgreSQL –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - –Ω–∞–¥–µ–∂–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º
- **–§—å—é—á–µ—Ä—Å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ Bybit** - 50+ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä —Å 15-–º–∏–Ω—É—Ç–Ω—ã–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–º
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- **Jupyter notebooks** - –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìä –î–∞–Ω–Ω—ã–µ

–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ PostgreSQL:
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `crypto_trading` –Ω–∞ –ø–æ—Ä—Ç—É 5555
- **–¢–∞–±–ª–∏—Ü–∞**: `raw_market_data`
- **–¢–∏–ø —Ä—ã–Ω–∫–∞**: —Ñ—å—é—á–µ—Ä—Å—ã
- **–¢–∞–π–º—Ñ—Ä–µ–π–º**: 15 –º–∏–Ω—É—Ç
- **–°–∏–º–≤–æ–ª—ã**: 50 –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–Ω—ã—Ö –ø–∞—Ä
- **–ü–µ—Ä–∏–æ–¥**: 2022-06-08 –¥–æ 2025-06-16
- **–ó–∞–ø–∏—Å–µ–π**: ~3.9 –º–∏–ª–ª–∏–æ–Ω–∞

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Python 3.9+
- PostgreSQL 13+
- CUDA-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π GPU (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –æ–±—É—á–µ–Ω–∏—è)
- 16GB+ RAM
- 50GB+ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

### –ü–æ—à–∞–≥–æ–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**:
```bash
git clone https://github.com/obertruper/crypto_ai_trading.git
cd crypto_ai_trading
```

2. **–°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è**:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π**:
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö**:
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ë–î
python setup.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è
python -c "from data.data_loader import CryptoDataLoader; print('–ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!')"
```

5. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏**:
   - –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/config.yaml`
   - –£–∫–∞–∂–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤–∞—à–µ–π PostgreSQL –ë–î
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏

6. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏**:
```bash
python main.py --mode demo
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### üéÆ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
```bash
python run_interactive.py
```

–û—Ç–∫—Ä–æ–µ—Ç —É–¥–æ–±–Ω–æ–µ –º–µ–Ω—é –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤—Å–µ–º–∏ –∞—Å–ø–µ–∫—Ç–∞–º–∏ —Å–∏—Å—Ç–µ–º—ã:
- üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏
- üß† –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–µ–π  
- üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –ª–æ–≥–∏
- ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∏—Å—Ç–µ–º—ã
- üîß –£—Ç–∏–ª–∏—Ç—ã –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
- üìã –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∏—Å—Ç–µ–º–µ
- üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

**–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª:**
```bash
python run_full_pipeline.py --mode full
```

**–ü–æ—ç—Ç–∞–ø–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ:**
```bash
# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö
python run_full_pipeline.py --mode data

# –î–µ–º–æ –æ–±—É—á–µ–Ω–∏–µ (5 —ç–ø–æ—Ö)
python run_full_pipeline.py --mode demo

# –ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
python run_full_pipeline.py --mode train

# –ë—ç–∫—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
python run_full_pipeline.py --mode backtest
```

### üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
```bash
python monitor_training.py
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
crypto_ai_trading/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ config.yaml              # –û—Å–Ω–æ–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–∏—Å—Ç–µ–º—ã
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py           # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ PostgreSQL
‚îÇ   ‚îú‚îÄ‚îÄ preprocessor.py          # –ü—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–∏–Ω–≥ –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îú‚îÄ‚îÄ feature_engineering.py   # –°–æ–∑–¥–∞–Ω–∏–µ 100+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ dataset.py               # PyTorch Dataset –∫–ª–∞—Å—Å—ã
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ patchtst.py              # PatchTST –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îÇ   ‚îú‚îÄ‚îÄ ensemble.py              # –ê–Ω—Å–∞–º–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥–µ–ª–µ–π
‚îÇ   ‚îî‚îÄ‚îÄ losses.py                # –ö–∞—Å—Ç–æ–º–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ—Ç–µ—Ä—å
‚îú‚îÄ‚îÄ trading/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ risk_manager.py          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ position_sizer.py        # –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–π (6 —Å—Ç—Ä–∞—Ç–µ–≥–∏–π)
‚îÇ   ‚îú‚îÄ‚îÄ signals.py               # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ—Ä–≥–æ–≤—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ backtester.py            # –ë—ç–∫—Ç–µ—Å—Ç–∏–Ω–≥ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
‚îú‚îÄ‚îÄ training/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ trainer.py               # –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª –æ–±—É—á–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ optimizer.py             # –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä—ã (RAdam, Lookahead, Ranger)
‚îÇ   ‚îî‚îÄ‚îÄ validator.py             # –í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –æ—Ü–µ–Ω–∫–∞ –º–æ–¥–µ–ª–µ–π
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ metrics.py               # –ú–µ—Ç—Ä–∏–∫–∏ –æ—Ü–µ–Ω–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ visualization.py         # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îÇ   ‚îî‚îÄ‚îÄ logger.py                # –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ notebooks/                    # Jupyter notebooks –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
‚îÇ   ‚îú‚îÄ‚îÄ 01_data_exploration.ipynb
‚îÇ   ‚îú‚îÄ‚îÄ 02_feature_analysis.ipynb
‚îÇ   ‚îî‚îÄ‚îÄ 03_model_evaluation.ipynb
‚îú‚îÄ‚îÄ cache/                        # –ö—ç—à –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ experiments/
‚îÇ   ‚îî‚îÄ‚îÄ logs/                     # –õ–æ–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ models_saved/                 # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ results/                      # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ logs/                         # –õ–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt              # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ setup.py                      # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î
‚îú‚îÄ‚îÄ run_interactive.py           # üéØ –ò–ù–¢–ï–†–ê–ö–¢–ò–í–ù–û–ï –ú–ï–ù–Æ
‚îú‚îÄ‚îÄ run_full_pipeline.py         # –û—Å–Ω–æ–≤–Ω–æ–π –ø–∞–π–ø–ª–∞–π–Ω
‚îú‚îÄ‚îÄ monitor_training.py          # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ–±—É—á–µ–Ω–∏—è
‚îú‚îÄ‚îÄ main.py                       # –ì–ª–∞–≤–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ demo_runner.py               # –î–µ–º–æ –≤–µ—Ä—Å–∏—è
‚îú‚îÄ‚îÄ LICENSE                       # MIT –ª–∏—Ü–µ–Ω–∑–∏—è
‚îî‚îÄ‚îÄ README.md                     # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `config/config.yaml`:

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
```yaml
database:
  host: "localhost"
  port: 5555
  database: "crypto_trading"
  user: "ruslan"
  password: "ruslan"
```

**–ú–æ–¥–µ–ª—å PatchTST:**
```yaml
model:
  name: "PatchTST"
  patch_len: 16
  stride: 8
  context_window: 96   # 24 —á–∞—Å–∞ (96 * 15 –º–∏–Ω)
  d_model: 128         # –û–ø—Ç–∏–º–∞–ª—å–Ω–æ –¥–ª—è CPU
  n_heads: 8           # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ attention heads
  e_layers: 2          # Encoder layers
  d_ff: 256           # Feedforward dimension
  pred_len: 4          # –ü—Ä–æ–≥–Ω–æ–∑ –Ω–∞ 1 —á–∞—Å
  dropout: 0.2        # –†–µ–≥—É–ª—è—Ä–∏–∑–∞—Ü–∏—è
  learning_rate: 0.0001
  batch_size: 32
  epochs: 100
```

**–†–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç:**
```yaml
risk_management:
  stop_loss_pct: 2.0                    # –†–µ–∞–ª–∏—Å—Ç–∏—á–Ω–æ –¥–ª—è –∫—Ä–∏–ø—Ç–æ
  take_profit_targets: [1.5, 2.5, 4.0]  # –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—Ä–æ–≤–Ω–∏
  partial_close_sizes: [40, 40, 20]     # –ß–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è –≤ %
  position_sizing:
    method: "kelly_criterion"           # –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π
    max_risk_per_trade: 0.5             # –ö–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π –ø–æ–¥—Ö–æ–¥
    correlation_adjustment: true        # –£—á–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –ø–æ—Ä—Ç—Ñ–µ–ª—è
```

## üìä –ü—Ä–∏–∑–Ω–∞–∫–∏ –º–æ–¥–µ–ª–∏

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã (100+ –ø—Ä–∏–∑–Ω–∞–∫–æ–≤):
- **–¢—Ä–µ–Ω–¥–æ–≤—ã–µ**: SMA, EMA, MACD, ADX, Parabolic SAR, Ichimoku, Aroon
- **–û—Å—Ü–∏–ª–ª—è—Ç–æ—Ä—ã**: RSI, Stochastic, CCI, Williams %R, ROC, MOM
- **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å**: ATR, Bollinger Bands, Keltner Channels, Donchian Channels
- **–û–±—ä–µ–º–Ω—ã–µ**: OBV, CMF, MFI, VWAP, Volume ratios

### –ú–∏–∫—Ä–æ—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- –°–ø—Ä–µ–¥—ã high-low
- Volume imbalance
- Price impact –∏ toxicity
- Amihud illiquidity

### –ö—Ä–æ—Å—Å-–∞–∫—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å BTC
- –°–µ–∫—Ç–æ—Ä–Ω—ã–µ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏
- Momentum leaders
- Relative strength

### –í—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∏–∑–Ω–∞–∫–∏:
- –¢–æ—Ä–≥–æ–≤—ã–µ —Å–µ—Å—Å–∏–∏
- –¶–∏–∫–ª–∏—á–µ—Å–∫–æ–µ –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
- –°–µ–∑–æ–Ω–Ω–æ—Å—Ç—å

## üéØ –ß—Ç–æ –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤—ã—Ö–æ–¥—ã –º–æ–¥–µ–ª–∏:
1. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ —Ü–µ–Ω—ã** (`price_pred`) - –æ–∂–∏–¥–∞–µ–º–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ 4 —Å–≤–µ—á–∏ (1 —á–∞—Å)
2. **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ Take Profit** (`tp_probs`) - –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ —É—Ä–æ–≤–Ω—è:
   - TP1: +1.5% (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–∞—è —Ü–µ–ª—å, ~30% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - TP2: +2.5% (–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Ü–µ–ª—å, ~20% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
   - TP3: +4.0% (–∞–º–±–∏—Ü–∏–æ–∑–Ω–∞—è —Ü–µ–ª—å, ~10% –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å)
3. **–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å Stop Loss** (`sl_prob`) - —Ä–∏—Å–∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è —Å—Ç–æ–ø-–ª–æ—Å—Å–∞ –Ω–∞ -2.0%
4. **–í–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å** (`volatility`) - –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–π –∞–¥–∞–ø—Ç–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –¢–æ—Ä–≥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞:
- –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏ (>65%) —Å —É—á–µ—Ç–æ–º Kelly Criterion
- –ß–∞—Å—Ç–∏—á–Ω–æ–µ –∑–∞–∫—Ä—ã—Ç–∏–µ: 40% –Ω–∞ TP1, 40% –Ω–∞ TP2, 20% –Ω–∞ TP3
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π breakeven –ø–æ—Å–ª–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP1
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π trailing stop –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–∑–∏—Ü–∏–∏ –∫ —Ç–µ–∫—É—â–µ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è–º

## üìà –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–°–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä—É–µ—Ç:
- **–ú–µ—Ç—Ä–∏–∫–∏ –æ–±—É—á–µ–Ω–∏—è**: Loss, Learning Rate, Accuracy
- **–ë—ç–∫—Ç–µ—Å—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**: Sharpe Ratio, Max Drawdown, Win Rate
- **–¢–æ—Ä–≥–æ–≤—ã–µ —Å–∏–≥–Ω–∞–ª—ã**: —Å —É—Ä–æ–≤–Ω—è–º–∏ SL/TP –∏ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å—é
- **–í–∞–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–æ–≤**: —Ç–æ–ø —Ñ–∞–∫—Ç–æ—Ä—ã –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–æ–≤

## üîç –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü—Ä–æ–¥–≤–∏–Ω—É—Ç–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- **–¶–≤–µ—Ç–Ω–æ–π –∫–æ–Ω—Å–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥**
- **–†–æ—Ç–∞—Ü–∏—è —Ñ–∞–π–ª–æ–≤ –ª–æ–≥–æ–≤**
- **JSON —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏**
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–∞–π–º–µ—Ä—ã —ç—Ç–∞–ø–æ–≤**

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ª–æ–≥–æ–≤:
```
logs/                            # –û—Å–Ω–æ–≤–Ω—ã–µ –ª–æ–≥–∏ –æ–±—É—á–µ–Ω–∏—è
experiments/logs/                # –õ–æ–≥–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤
‚îú‚îÄ‚îÄ training_YYYYMMDD_HHMMSS/   # –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ training.log            # –î–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥
‚îÇ   ‚îú‚îÄ‚îÄ metrics.csv             # –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ —ç–ø–æ—Ö–∞–º
‚îÇ   ‚îî‚îÄ‚îÄ checkpoints/            # –°–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```

## üöÄ –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤:
1. –î–æ–ø–æ–ª–Ω–∏—Ç–µ `data/feature_engineering.py`
2. –û–±–Ω–æ–≤–∏—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –≤ `config/config.yaml`
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–¥–≥–æ—Ç–æ–≤–∫—É –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π:
1. –°–æ–∑–¥–∞–π—Ç–µ –º–æ–¥—É–ª—å –≤ `models/`
2. –ù–∞—Å–ª–µ–¥—É–π—Ç–µ –æ—Ç –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
3. –î–æ–±–∞–≤—å—Ç–µ –≤ `ensemble.py` –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

## üìù –õ–æ–≥–∏–∫–∞ —Ç–æ—Ä–≥–æ–≤–ª–∏

1. **–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ**: –º–æ–¥–µ–ª—å –≤—ã–¥–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è TP —É—Ä–æ–≤–Ω–µ–π
2. **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Ä—ã–Ω–æ—á–Ω—ã—Ö —É—Å–ª–æ–≤–∏–π
3. **–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**: —Ä–∞–∑–º–µ—Ä –Ω–∞ –æ—Å–Ω–æ–≤–µ ATR –∏ —Ä–∏—Å–∫–∞ –Ω–∞ —Å–¥–µ–ª–∫—É
4. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**: —á–∞—Å—Ç–∏—á–Ω—ã–µ –∑–∞–∫—Ä—ã—Ç–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —É—Ä–æ–≤–Ω—è—Ö –ø—Ä–∏–±—ã–ª–∏
5. **–ó–∞—â–∏—Ç–∞**: trailing stop –∏ breakeven –º–µ—Ö–∞–Ω–∏–∑–º—ã

## üîÆ –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Bybit API –¥–ª—è —Ç–æ—Ä–≥–æ–≤–ª–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- [ ] –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä (LSTM, Transformer)
- [ ] –ü–æ—Ä—Ç—Ñ–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏
- [ ] Sentiment –∞–Ω–∞–ª–∏–∑ –∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π
- [ ] Options flow –¥–∞–Ω–Ω—ã–µ
- [ ] –ú–∞–∫—Ä–æ—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

## ‚ö†Ô∏è –î–∏—Å–∫–ª–µ–π–º–µ—Ä

–î–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã—Ö –∏ –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Ü–µ–ª–µ–π. –¢–æ—Ä–≥–æ–≤–ª—è –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞–º–∏ —Å–æ–ø—Ä—è–∂–µ–Ω–∞ —Å –≤—ã—Å–æ–∫–∏–º–∏ —Ä–∏—Å–∫–∞–º–∏. –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–æ–¥–∏—Ç–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç.

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ Issues –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –∏–ª–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º.